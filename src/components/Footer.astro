---
import { Button } from './ui/button';

const contactEmail = import.meta.env.RESEND_TO_EMAIL || '';
---

<footer class="static flex min-h-16 flex-col items-center justify-center gap-3 border-t border-primary-black/10 bg-light-bg px-4 py-4 dark:border-white/10 dark:bg-primary-black sm:fixed sm:bottom-0 sm:left-0 sm:right-0 sm:z-10 sm:h-16 sm:flex-row sm:justify-between sm:py-0">
	<div class="flex w-full flex-wrap gap-x-8 gap-y-2 border-b border-primary-black/10 pb-3 dark:border-white/10 sm:w-auto sm:border-0 sm:pb-0">
		<a href={contactEmail ? `mailto:${contactEmail}` : '#'} class="flex items-center gap-1 hover:underline dark:text-white">
			<span>→</span>
			{contactEmail || 'Contact'}
		</a>
		<span class="flex items-center gap-1 dark:text-white">
			<span>→</span>
			Los Angeles, CA
		</span>
	</div>
	<div class="flex w-full flex-shrink-0 flex-wrap items-center justify-between gap-6 self-stretch sm:w-auto sm:flex-nowrap">
		<div class="flex flex-wrap items-center gap-6">
			<Button client:load asChild variant="outline" className="border-primary-black px-4 py-2 text-sm uppercase hover:bg-primary-black hover:text-white dark:border-white/30 dark:text-white dark:hover:bg-white dark:hover:text-primary-black">
				<a href="https://www.linkedin.com/in/julian-hardee-creator/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
			</Button>
			<Button client:load asChild variant="outline" className="border-primary-black px-4 py-2 text-sm uppercase hover:bg-primary-black hover:text-white dark:border-white/30 dark:text-white dark:hover:bg-white dark:hover:text-primary-black">
				<a href="https://github.com/juuujuuu9" target="_blank" rel="noopener noreferrer">GitHub</a>
			</Button>
		</div>
		<button
			type="button"
			id="theme-toggle"
			role="switch"
			aria-checked="false"
			aria-label="Light or dark mode"
			class="theme-switch relative inline-flex h-8 w-14 shrink-0 cursor-pointer items-center rounded-full border border-primary-black transition-colors dark:border-white/30 dark:aria-checked:bg-white/20"
			title="Toggle light or dark mode"
		>
			<span class="pointer-events-none absolute left-1 h-5 w-5 rounded-full bg-primary-black transition-transform dark:translate-x-6 dark:bg-white" aria-hidden="true"></span>
		</button>
	</div>
</footer>
<script>
	const toggle = document.getElementById('theme-toggle');
	function syncAria() {
		if (toggle) toggle.setAttribute('aria-checked', document.documentElement.classList.contains('dark') ? 'true' : 'false');
	}
	toggle?.addEventListener('click', () => {
		document.documentElement.classList.toggle('dark');
		localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
		syncAria();
	});
	syncAria();
</script>
